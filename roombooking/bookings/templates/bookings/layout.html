<!-- roombooking/bookings/templates/bookings/layout.html -->
{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    
    <!-- Tip: You are loading Tailwind twice. The CDN is for quick prototyping. 
         Since you're using django-tailwind, you should rely on {% tailwind_css %} 
         and can remove the CDN script tag. -->
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        h1 {
            font-family: 'Segoe UI', sans-serif;
            font-size: 2em;
        }
    </style>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    {% tailwind_css %}
</head>
<body class="bg-gray-100">

    <!-- Main container for the layout -->
    <div class="relative min-h-screen md:flex">

        <!-- START: Sidebar -->
        <!-- The sidebar is given a fixed width, full height, a background color, and stays fixed on the screen. -->
        <div class="bg-amber-950 text-gray-100 flex-shrink-0 w-48 p-4">
            <div class="text-white text-xl font-semibold mb-6">
                <a href="/">Room Booker</a>
            </div>
            
            <!-- Sidebar Navigation -->
            <ul class="space-y-2">
                <li>
                    <a href="/" class="block px-4 py-2 rounded hover:bg-gray-700">Dashboard</a>
                </li>
                <li>
                    <a href="{% url 'my_bookings' %}" class="block px-4 py-2 rounded hover:bg-gray-700">My Bookings</a>
                </li>
                <li>
                    <a href="#" class="block px-4 py-2 rounded hover:bg-gray-700">All Rooms</a>
                </li>
            </ul>
        </div>
        <!-- END: Sidebar -->

        <!-- START: Main Content Area -->
        <div class="flex-grow p-8">
            <header class="flex justify-end items-center mb-8">
                {% if user.is_authenticated %}
                    <span class="mr-5">Hello, {{ user.username }}!</span>
                    <form method="POST" action="{% url 'logout' %}" class="inline">
                        {% csrf_token %}
                        <button type="submit" class="px-4 py-2 bg-amber-300 hover:bg-amber-400 text-amber-950 rounded-3xl">
                            Logout
                        </button>
                    </form>
                {% else %}
                    <div class="text-right">
                        <p>You must log in before booking.</p>
                        <a href="{% url 'login' %}" class="inline-block mt-2 px-4 py-2 bg-amber-300 hover:bg-amber-400 text-amber-950 rounded-3xl">
                            Login
                        </a>
                    </div>
                {% endif %}
            </header>

            <!-- Main content from child templates will be injected here -->
            <main>
                {% block content %}{% endblock %}
            </main>
        </div>
        <!-- END: Main Content Area -->

    </div>

    <!-- A footer would typically go outside the main flex container, or inside the main content area -->
    <!-- <footer></footer> -->

</body>
</html>